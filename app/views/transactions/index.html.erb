<%= form_with url: transactions_path, method: :get, local: true, class: "mb-3" do %>
  <div class="input-group">
    <%= text_field_tag :query, params[:query], class: "form-control", placeholder: "Search by description..." %>
    <button class="btn btn-outline-dark" type="submit">Search</button>
  </div>
<% end %>

<table class="table table-hover table-striped table-dark">
  <thead>
    <tr>
      <th scope="col">Time</th>
      <th scope="col">Description</th>
      <th scope="col">Amount</th>
    </tr>
  </thead>
  <tbody>
    <% @transactions.each do |transaction| %>
      <tr>
        <td><%= currency_date(transaction.time) %> </td>
        <td><%= transaction.description %></td>
        <td><%= (transaction.raw_data['amount'] / 100.0).round(2) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="d-flex justify-content-start mt-2">
  <%== pagy_bootstrap_nav(@pagy) %>
</div>

<%= button_to 'Sync', sync_transactions_path, method: :post, class: 'btn btn-outline-dark' %>
